<!DOCTYPE html>
<html manifest="index.appcache">
<head>
	<meta charset="utf-8">
	<title>华侨城-引导动画</title>
	<meta name="keywords" content="华侨城"/>
	<meta name="description" content="华侨城"/>
	<meta name="viewport" content="initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no">
	<meta name="baidu-site-verification" content="IOphv8ZngJ" />
	<link rel="stylesheet" href="css/common.css" />
	<link rel="stylesheet" href="css/css.css" />
	<link rel="stylesheet" href="vendor/letterfx/jquery-letterfx.css"  type="text/css" />
	
</head>
<body>
	<div class="bg" >
		<div class="luoye"></div>
		<div class="one" >
			<img src="images/green.png" class="green" style="display: none;">
			<img src="images/gray.png" class="gray" style="display: none;">
			<img src="images/blue.png" class="blue" style="display: none;">
			<img src="images/img_8_1.png" class="thumb" >
			<span>The city of<br/> ecological leisure</span>
			<a class="skip" href="javascript:;">Skip</a>
			<div class="content">
				<h2>欢乐之城</h2>
				<p>雅海滩水公园32套件大型水上游乐设备已基本安装完成。公园计划采用世界领先的水磁动力技术，耗电仅为传统水上过山车的25%；同时，采用国际领先的水处理设备及消毒设施，仅水处理一项技术和设备投资就超过了3000万元，节水率高达90%。</p>
			</div>

			<div class="content-2" style="display: none;">
				<h2>探索之城</h2>
				<p>雅海滩水公园32套件大型水上游乐设备已基本安装完成。公园计划采用世界领先的水磁动力技术，耗电仅为传统水上过山车的25%；同时，采用国际领先的水处理设备及消毒设施，仅水处理一项技术和设备投资就超过了3000万元，节水率高达90%。</p>
			</div>
		</div>

		<div class="two" style="display: none;">
			<img src="images/green.png" class="green" style="display: none;">
			<img src="images/flower.png" class="gray" style="display: none;">
			<img src="images/blue.png" class="blue" >
			<img src="images/img_8_2.png" class="thumb" style="display: none;">
			<span>The city of<br/> happly</span>
			<a class="skip" href="javascript:;">Skip</a>
			<div class="luoye"></div>
			<div class="content">
				<h2>幸福之城</h2>
				<p>雅海滩水公园32套件大型水上游乐设备已基本安装完成。公园计划采用世界领先的水磁动力技术，耗电仅为传统水上过山车的25%；同时，采用国际领先的水处理设备及消毒设施，仅水处理一项技术和设备投资就超过了3000万元，节水率高达90%。</p>
			</div>

			<div class="content-2" style="display: none;">
				<h2>探索之城</h2>
				<p>雅海滩水公园32套件大型水上游乐设备已基本安装完成。公园计划采用世界领先的水磁动力技术，耗电仅为传统水上过山车的25%；同时，采用国际领先的水处理设备及消毒设施，仅水处理一项技术和设备投资就超过了3000万元，节水率高达90%。</p>
			</div>
		</div>


		<div class="three"  style="display: none;">
			<!-- <img src="images/green.png" class="green" > -->
			<img src="images/gray.png" class="gray" style="display: none;">
			<img src="images/blue.png" class="blue" style="display: none;">
			<img src="images/img_8_3.png" class="thumb" style="display: none;">
			<!-- <span>The city of<br/> happly</span> -->
			<a class="skip" href="javascript:;">Skip</a>
			<div class="luoye"></div>
			<div class="content">
				<h2>传承之城</h2>
				<p>雅海滩水公园32套件大型水上游乐设备已基本安装完成。公园计划采用世界领先的水磁动力技术，耗电仅为传统水上过山车的25%；同时，采用国际领先的水处理设备及消毒设施，仅水处理一项技术和设备投资就超过了3000万元，节水率高达90%。</p>
			</div>

			<div class="content-2" style="display: none;">
				<h2>探索之城</h2>
				<p>雅海滩水公园32套件大型水上游乐设备已基本安装完成。公园计划采用世界领先的水磁动力技术，耗电仅为传统水上过山车的25%；同时，采用国际领先的水处理设备及消毒设施，仅水处理一项技术和设备投资就超过了3000万元，节水率高达90%。</p>
			</div>
		</div>
	</div>
	
	<div class="main" style="display: none;">
		<div class="zt"><img src="images/main.jpg"  style="display: none;"></div>
		<div class="logo"><img src="images/logo.png"  style="display: none;"></div>
		<a href="javascript:;"><img src="images/btn_home.png" class="btn-home"></a>
	</div>

	<script type="text/javascript" src="js/jquery-1.12.3.min.js"></script>
	<script type="text/javascript" src="vendor/luoye/js/snowfall.jquery.js"></script> 
	<script type="text/javascript" src="vendor/letterfx/tuxsudo.min.js"></script>
	<script type="text/javascript" src="vendor/letterfx/jquery-letterfx.min.js"></script>
	<script type="text/javascript">
		/*$(document).snowfall('clear');*/

		console.log($(window).width());

		var bgWidth = function(){
			var bgWidth = $('.bg').css('backgroundPositionX');
			bgWidth = bgWidth.substring(0,bgWidth.length-2);
			return bgWidth;
		}

		

		var wWdith   =  $(window).width();
		var allWidth = 5600;
		var click 	 = false;
		var left 	 =  0;
		var time 	 =  0; //计时器
			

		if(wWdith > 1600 && wWdith <  1900){
			$('.bg').css('backgroundPositionX','-80px');
		}
		wWdith = 1920;

		//落叶
		$('.luoye').snowfall({
            image: "images/flower_8.png",
            flakeCount:3,
            minSize: 5,
            maxSize: 22
        });

		//第一个场景
		function scene_1(){

			$('.one .thumb').animate({'filter.grayscale':0},100);
			$('.one .gray').show(1000);
			$('.one .blue').show(1000);
			$('.one .green').show(10);
			$(".one span").letterfx({"fx":"wave","words":true,"timing":300});
			$(".one .content h2").show(1000);
			$(".one .content p").fadeIn(2000);
			setTimeout(function(){
				$('.one .content').hide(500);
				$('.one .content-2').show(500);
			},3000);
		}

		//第二个场景
		function scene_2(){
	
			left = bgWidth() - wWdith;

			//隐藏第一个场景
			$('.one .thumb').hide(500);
			$('.one .gray').hide(1000);
			$('.one .blue').hide(1000);
			$('.one .green').hide(10);
			$('.one .content').hide();
			$('.one .content-2').hide();
			$(".one span").hide();
			$(".one .skip").hide();

			$('.bg').animate({backgroundPositionX:left+'px'},1300,function(){
				$('.one').hide();

				//落叶
				$('.luoye').animate({left:'0%',top:'30%'},4000);

				$('.two').css('display','block');
				$('.two .thumb').fadeIn(2000);
				$('.two .gray').fadeIn(1000);
				$('.two .blue').fadeIn(1000);
				$('.two .green').fadeIn(10);
				$(".two span").letterfx({"fx":"wave","words":true,"timing":300});
				$(".two .content h2").show(1000);
				$(".two .content p").fadeIn(2000);
				setTimeout(function(){
					$('.two .content').hide(500);
					$('.two .content-2').fadeIn(500);
				},3000);
			});
		}

		//第三个场景
		function scene_3(){
			console.log(wWdith);
			//小分辨率特殊处理
			if($(window).width() < 1600){
				left = -3960;
			}else{
				left = bgWidth() - wWdith;
			}

			//隐藏第一个场景
			$('.two .thumb').hide(500);
			$('.two .gray').hide(1000);
			$('.two .blue').hide(1000);
			$('.two .green').hide(10);
			$('.two .content').hide();
			$('.two .content-2').hide();
			$(".two span").hide();
			$(".two .skip").hide();

			//落叶
			//$('.luoye').html('');
			$('.luoye').animate({left:'47%',top:'30%'},4000);

			$('.bg').animate({backgroundPositionX:left+'px'},1300,function(){
				$('.two').hide();

				$('.three').css('display','block');
				$('.three .thumb').show(500);
				$('.three .gray').show(1000);
				$('.three .blue').show(1000);
				$('.three .green').show(10);
				$(".three span").letterfx({"fx":"wave","words":true,"timing":300});
				$(".three .content h2").show(1000);
				$(".three .content p").fadeIn(2000);
				setTimeout(function(){
					$('.three .content').hide(500);
					$('.three .content-2').show(500);
				},3000);
			});
		}

		//第四个场景
		function scene_4(){
			scene_4_start = true;
			$('.bg').hide(500);
			$('.main').show();
			$('.main .zt img').fadeIn(5000);
			$('.main .logo img').slideToggle(3000);
		}

		//创建房间计时器
		setInterval(function(){
			if(time == 0){
				scene_1();
			}else if(time == 6){
				scene_2();
			}else if( time == 14){
				scene_3();
			}else if(time == 21){
				scene_4();
			}
			time += 0.5;
 			//console.log(time);
		},500)
		
		//更改时间直接切换场景
		$('.skip').click(function(){
			if( time < 5){
				time = 9.5;
			}else if(time < 12){
				time =19.5;
			}else if(time < 15){
				time = 29.5;
			}
		})
	</script>
</body>
</html>